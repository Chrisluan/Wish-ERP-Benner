<Window x:Class="Wish.ERP.Benner.Views.Modals.Orders.CreateOrderModal"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Novo Pedido" Height="518" Width="520"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ShowInTaskbar="False"
        Background="Transparent"
        AllowsTransparency="True"
        MouseLeftButtonDown="AllowDrag">

    <Grid>
        <Border Background="White" CornerRadius="10" Padding="20" BorderBrush="Gray">
            <StackPanel Width="400">

                <TextBlock Margin="0,0,0,20" FontSize="20" FontWeight="Bold" 
                           TextAlignment="Center" Text="Novo Pedido" />

                <!-- Cliente -->
                <TextBlock>Cliente</TextBlock>
                <ComboBox x:Name="ClientCombo"
                          IsEditable="True"
                          StaysOpenOnEdit="True"
                          IsTextSearchEnabled="True"
                          DisplayMemberPath="Name"
                          SelectedValuePath="Id"
                         
                          Margin="0,0,0,10"/>

                <!-- Produtos -->
                <TextBlock>Produtos</TextBlock>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <ComboBox x:Name="ProductCombo"
                              Width="200"
                              IsEditable="True"
                              StaysOpenOnEdit="True"
                              IsTextSearchEnabled="True"
                              DisplayMemberPath="Name"
                              SelectedValuePath="Id"
                              />
                    <TextBox x:Name="QuantityBox" Width="60" Margin="10,0,0,0" Text="1" VerticalContentAlignment="Center"/>
                    <Button Content="Adicionar" Click="AddProduct" Margin="10,0,0,0"/>
                </StackPanel>

                <!-- Lista de itens adicionados -->
                <ListView ItemsSource="{Binding OrderBoxes}" x:Name="OrderItemsList" Height="150" Margin="0,0,0,10">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Produto" DisplayMemberBinding="{Binding ProductName}" Width="180"/>
                            <GridViewColumn Header="Qtd" DisplayMemberBinding="{Binding Amount}" Width="50"/>
                            <GridViewColumn Header="Preço" DisplayMemberBinding="{Binding ProductPrice}" Width="70"/>
                            <GridViewColumn Header="Subtotal" DisplayMemberBinding="{Binding Balance}" Width="80"/>
                        </GridView>
                    </ListView.View>
                </ListView>

                <!-- Status -->
                <StackPanel>
                    <TextBlock>Status</TextBlock>
                    <ComboBox x:Name="StatusCombo" SelectedIndex="0" Margin="0,0,0,10">
                    </ComboBox>
                    <TextBlock>Forma de Pagamento</TextBlock>
                    <ComboBox x:Name="PaymentMethodsCombo" SelectedIndex="0" Margin="0,0,0,10">
                    </ComboBox>
                </StackPanel>
                
                

                <!-- Buttons -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
                    <Button Width="100" Margin="5" Content="Salvar" Click="Done"/>
                    <Button Width="100" Margin="5" Content="Cancelar" Click="Cancel"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>
